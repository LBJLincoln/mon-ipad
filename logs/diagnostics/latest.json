{
  "standard": {
    "timestamp": "2026-02-12T09:26:57.440211Z",
    "pipeline": "standard",
    "stage": "manual-analysis",
    "label": "",
    "questions_tested": 100,
    "executions_analyzed": 57,
    "total_issues": 153,
    "issues_by_severity": {
      "critical": 8,
      "high": 57,
      "medium": 52,
      "low": 36
    },
    "node_analysis": {
      "Webhook": {
        "name": "Webhook",
        "executions": 56,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 6,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Init & ACL Pre-Filter V3.4": {
        "name": "Init & ACL Pre-Filter V3.4",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 7,
        "total_duration_ms": 408,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Needs Decomposition?": {
        "name": "Needs Decomposition?",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 32,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": true,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Query Decomposer (V.3.4)": {
        "name": "Query Decomposer (V.3.4)",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 5349,
        "total_duration_ms": 304893,
        "is_llm": true,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [
          {
            "type": "VERBOSE_LLM",
            "severity": "medium",
            "node": "Query Decomposer (V.3.4)",
            "detail": "LLM output is 1121 chars — may be overly detailed for an intermediate step",
            "metric": {
              "output_chars": 1121
            },
            "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
          },
          {
            "type": "SLOW_NODE",
            "severity": "low",
            "node": "Query Decomposer (V.3.4)",
            "detail": "Node took 10185ms (>5000ms threshold)",
            "metric": {
              "duration_ms": 10185
            },
            "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
          }
        ],
        "llm_avg_output_chars": 884,
        "llm_avg_tokens": 58
      },
      "Query Merger V3.4": {
        "name": "Query Merger V3.4",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 8,
        "total_duration_ms": 458,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": true,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "HyDE Generator": {
        "name": "HyDE Generator",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 2372,
        "total_duration_ms": 135209,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "VERBOSE_LLM",
            "severity": "medium",
            "node": "HyDE Generator",
            "detail": "LLM output is 1319 chars — may be overly detailed for an intermediate step",
            "metric": {
              "output_chars": 1319
            },
            "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
          },
          {
            "type": "SLOW_NODE",
            "severity": "low",
            "node": "HyDE Generator",
            "detail": "Node took 6781ms (>5000ms threshold)",
            "metric": {
              "duration_ms": 6781
            },
            "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
          }
        ],
        "llm_avg_output_chars": 387,
        "llm_avg_tokens": 48
      },
      "HyDE Embedding": {
        "name": "HyDE Embedding",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 220,
        "total_duration_ms": 12574,
        "is_llm": true,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "HTTP Pinecone Query HyDE": {
        "name": "HTTP Pinecone Query HyDE",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 436,
        "total_duration_ms": 24880,
        "is_llm": true,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "BM25 Search Postgres": {
        "name": "BM25 Search Postgres",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 202,
        "total_duration_ms": 11539,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [
          {
            "type": "EMPTY_RETRIEVAL",
            "severity": "high",
            "node": "BM25 Search Postgres",
            "detail": "Retrieval node returned 0 items",
            "suggestion": "Check query formation, index configuration, or embedding quality."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Original Embedding": {
        "name": "Original Embedding",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 188,
        "total_duration_ms": 10751,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "HTTP Pinecone Query Original": {
        "name": "HTTP Pinecone Query Original",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 411,
        "total_duration_ms": 23442,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Wait All Branches": {
        "name": "Wait All Branches",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 2,
        "total_duration_ms": 120,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": true,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "RRF Merge & Rank V3.4": {
        "name": "RRF Merge & Rank V3.4",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 12,
        "total_duration_ms": 736,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": true,
        "issues": [
          {
            "type": "ZERO_RETRIEVAL",
            "severity": "critical",
            "node": "RRF Merge & Rank V3.4",
            "detail": "0 documents retrieved. Warnings: ['HyDE: 0 results', 'Original: 0 results', 'BM25: 0 results (may need tenant_id configuration)']",
            "suggestion": "Check embedding generation, vector index, and query formation."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Cohere Reranker": {
        "name": "Cohere Reranker",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 187,
        "total_duration_ms": 10706,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Rerank Merger": {
        "name": "Rerank Merger",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 11,
        "total_duration_ms": 631,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": true,
        "issues": [
          {
            "type": "ZERO_RETRIEVAL",
            "severity": "critical",
            "node": "Rerank Merger",
            "detail": "0 documents retrieved. Warnings: ['HyDE: 0 results', 'Original: 0 results', 'BM25: 0 results (may need tenant_id configuration)']",
            "suggestion": "Check embedding generation, vector index, and query formation."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Skip LLM?": {
        "name": "Skip LLM?",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 33,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "LLM Generation": {
        "name": "LLM Generation",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 1641,
        "total_duration_ms": 93556,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 164,
        "llm_avg_tokens": 8
      },
      "Response Formatter": {
        "name": "Response Formatter",
        "executions": 57,
        "errors": 0,
        "avg_duration_ms": 10,
        "total_duration_ms": 604,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "When chat message received": {
        "name": "When chat message received",
        "executions": 1,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 0,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      }
    },
    "cross_execution_patterns": {
      "node_health": {
        "Webhook": {
          "total_runs": 56,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Init & ACL Pre-Filter V3.4": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Needs Decomposition?": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Query Decomposer (V.3.4)": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Query Merger V3.4": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "HyDE Generator": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "HyDE Embedding": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "HTTP Pinecone Query HyDE": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "BM25 Search Postgres": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Original Embedding": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "HTTP Pinecone Query Original": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Wait All Branches": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "RRF Merge & Rank V3.4": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Cohere Reranker": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Rerank Merger": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Skip LLM?": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "LLM Generation": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Response Formatter": {
          "total_runs": 57,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "When chat message received": {
          "total_runs": 1,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        }
      },
      "latency_bottlenecks": [
        {
          "node": "Query Decomposer (V.3.4)",
          "avg_ms": 5349,
          "p95_ms": 10825,
          "max_ms": 14287,
          "samples": 57
        }
      ],
      "verbosity_report": {
        "Query Decomposer (V.3.4)": {
          "avg_chars": 884,
          "max_chars": 1300,
          "min_chars": 234,
          "samples": 45,
          "verdict": "warning"
        },
        "HyDE Generator": {
          "avg_chars": 387,
          "max_chars": 1319,
          "min_chars": 23,
          "samples": 45,
          "verdict": "ok"
        },
        "LLM Generation": {
          "avg_chars": 164,
          "max_chars": 339,
          "min_chars": 24,
          "samples": 45,
          "verdict": "ok"
        }
      },
      "routing_summary": {
        "Init & ACL Pre-Filter V3.4": {
          "needs_decomposition=False": 57
        },
        "Needs Decomposition?": {
          "needs_decomposition=False": 57
        },
        "Query Merger V3.4": {
          "is_decomposed=False": 57
        },
        "RRF Merge & Rank V3.4": {
          "skip_reranker=False": 53,
          "skip_reranker=True": 4
        },
        "Rerank Merger": {
          "skip_llm=False": 57,
          "has_fallback_response=True": 4
        },
        "Response Formatter": {
          "embedding_fallback=False": 45
        }
      }
    },
    "top_issues": [
      {
        "type": "ZERO_RETRIEVAL",
        "severity": "critical",
        "node": "RRF Merge & Rank V3.4",
        "detail": "0 documents retrieved. Warnings: ['HyDE: 0 results', 'Original: 0 results', 'BM25: 0 results (may need tenant_id configuration)']",
        "suggestion": "Check embedding generation, vector index, and query formation."
      },
      {
        "type": "ZERO_RETRIEVAL",
        "severity": "critical",
        "node": "Rerank Merger",
        "detail": "0 documents retrieved. Warnings: ['HyDE: 0 results', 'Original: 0 results', 'BM25: 0 results (may need tenant_id configuration)']",
        "suggestion": "Check embedding generation, vector index, and query formation."
      },
      {
        "type": "EMPTY_RETRIEVAL",
        "severity": "high",
        "node": "BM25 Search Postgres",
        "detail": "Retrieval node returned 0 items",
        "suggestion": "Check query formation, index configuration, or embedding quality."
      },
      {
        "type": "VERBOSE_LLM",
        "severity": "medium",
        "node": "Query Decomposer (V.3.4)",
        "detail": "LLM output is 1121 chars — may be overly detailed for an intermediate step",
        "metric": {
          "output_chars": 1121
        },
        "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
      },
      {
        "type": "VERBOSE_LLM",
        "severity": "medium",
        "node": "HyDE Generator",
        "detail": "LLM output is 1319 chars — may be overly detailed for an intermediate step",
        "metric": {
          "output_chars": 1319
        },
        "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
      },
      {
        "type": "SLOW_NODE",
        "severity": "low",
        "node": "Query Decomposer (V.3.4)",
        "detail": "Node took 10185ms (>5000ms threshold)",
        "metric": {
          "duration_ms": 10185
        },
        "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
      },
      {
        "type": "SLOW_NODE",
        "severity": "low",
        "node": "HyDE Generator",
        "detail": "Node took 6781ms (>5000ms threshold)",
        "metric": {
          "duration_ms": 6781
        },
        "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
      }
    ],
    "recommendations": [
      {
        "priority": "CRITICAL",
        "type": "ZERO_RETRIEVAL",
        "affected_nodes": [
          "RRF Merge & Rank V3.4",
          "Rerank Merger"
        ],
        "description": "0 documents retrieved. Warnings: ['HyDE: 0 results', 'Original: 0 results', 'BM25: 0 results (may need tenant_id configuration)']",
        "action": "Check embedding generation, vector index, and query formation.",
        "occurrences": 8
      },
      {
        "priority": "MEDIUM",
        "type": "VERBOSE_LLM",
        "affected_nodes": [
          "Query Decomposer (V.3.4)"
        ],
        "description": "LLM node 'Query Decomposer (V.3.4)' avg output: 884 chars (max: 1300)",
        "action": "Constrain system prompt to output only required intermediate data. Add max_tokens parameter.",
        "occurrences": 45
      },
      {
        "priority": "MEDIUM",
        "type": "LATENCY_BOTTLENECK",
        "affected_nodes": [
          "Query Decomposer (V.3.4)"
        ],
        "description": "Node 'Query Decomposer (V.3.4)' avg 5349ms (p95: 10825ms)",
        "action": "Consider caching, parallelization, or model optimization.",
        "occurrences": 57
      }
    ],
    "execution_ids": [
      "19455",
      "19449",
      "19448",
      "19447",
      "19446",
      "19445",
      "19444",
      "19443",
      "19442",
      "19441",
      "19440",
      "19439",
      "19438",
      "19437",
      "19436",
      "19435",
      "19433",
      "19432",
      "19431",
      "19430",
      "19429",
      "19427",
      "19426",
      "19425",
      "19424",
      "19423",
      "19422",
      "19421",
      "19420",
      "19419",
      "19418",
      "19417",
      "19416",
      "19415",
      "19414",
      "19413",
      "19412",
      "19411",
      "19410",
      "19409",
      "19408",
      "19407",
      "19406",
      "19405",
      "19404",
      "19403",
      "19402",
      "19401",
      "19400",
      "19397",
      "19396",
      "19395",
      "19394",
      "19392",
      "19390",
      "19382",
      "19370"
    ]
  },
  "_updated_at": "2026-02-12T09:27:03.499523Z",
  "graph": {
    "timestamp": "2026-02-12T09:27:03.492321Z",
    "pipeline": "graph",
    "stage": "manual-analysis",
    "label": "",
    "questions_tested": 100,
    "executions_analyzed": 100,
    "total_issues": 489,
    "issues_by_severity": {
      "critical": 300,
      "high": 56,
      "medium": 124,
      "low": 9
    },
    "node_analysis": {
      "Webhook": {
        "name": "Webhook",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 15,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "OTEL Init": {
        "name": "OTEL Init",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 22,
        "total_duration_ms": 2278,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "WF3: HyDE & Entity Extraction": {
        "name": "WF3: HyDE & Entity Extraction",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 11147,
        "total_duration_ms": 1114738,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "VERBOSE_LLM_CRITICAL",
            "severity": "high",
            "node": "WF3: HyDE & Entity Extraction",
            "detail": "LLM output is 2501 chars — likely producing near-final answers instead of intermediate results",
            "metric": {
              "output_chars": 2501
            },
            "suggestion": "Constrain the system prompt to output ONLY the required intermediate data (entities, SQL, routing decision). Add max_tokens limit."
          },
          {
            "type": "HIGH_TOKEN_USAGE",
            "severity": "medium",
            "node": "WF3: HyDE & Entity Extraction",
            "detail": "Completion tokens: 518 (threshold: 500)",
            "metric": {
              "completion_tokens": 518,
              "prompt_tokens": 75
            },
            "suggestion": "Reduce completion length via max_tokens parameter or streamline the prompt."
          },
          {
            "type": "VERY_SLOW_NODE",
            "severity": "high",
            "node": "WF3: HyDE & Entity Extraction",
            "detail": "Node took 16522ms (>15000ms threshold)",
            "metric": {
              "duration_ms": 16522
            },
            "suggestion": "Check if this node is making external API calls that could be cached or parallelized."
          },
          {
            "type": "VERBOSE_LLM",
            "severity": "medium",
            "node": "WF3: HyDE & Entity Extraction",
            "detail": "LLM output is 1385 chars — may be overly detailed for an intermediate step",
            "metric": {
              "output_chars": 1385
            },
            "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
          },
          {
            "type": "SLOW_NODE",
            "severity": "low",
            "node": "WF3: HyDE & Entity Extraction",
            "detail": "Node took 7606ms (>5000ms threshold)",
            "metric": {
              "duration_ms": 7606
            },
            "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
          }
        ],
        "llm_avg_output_chars": 2194,
        "llm_avg_tokens": 365
      },
      "Neo4j Query Builder (Deep Traversal V2)": {
        "name": "Neo4j Query Builder (Deep Traversal V2)",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 29,
        "total_duration_ms": 2993,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Shield #4: Neo4j Guardian Traversal": {
        "name": "Shield #4: Neo4j Guardian Traversal",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 211,
        "total_duration_ms": 21128,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Validate Neo4j Results": {
        "name": "Validate Neo4j Results",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 21,
        "total_duration_ms": 2158,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Community Summaries Fetch": {
        "name": "Community Summaries Fetch",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 108,
        "total_duration_ms": 10830,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Extract HyDE Document": {
        "name": "Extract HyDE Document",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 26,
        "total_duration_ms": 2607,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Generate HyDE Embedding": {
        "name": "Generate HyDE Embedding",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 137,
        "total_duration_ms": 13748,
        "is_llm": true,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Validate Embedding": {
        "name": "Validate Embedding",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 21,
        "total_duration_ms": 2180,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "WF3: Pinecone HyDE Search": {
        "name": "WF3: Pinecone HyDE Search",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 454,
        "total_duration_ms": 45406,
        "is_llm": true,
        "is_retrieval": true,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Merge": {
        "name": "Merge",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 2,
        "total_duration_ms": 240,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": true,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Merge Graph + Vector + Community (Deep)": {
        "name": "Merge Graph + Vector + Community (Deep)",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 31,
        "total_duration_ms": 3118,
        "is_llm": false,
        "is_retrieval": true,
        "is_routing": true,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "WF3: Cohere Reranker": {
        "name": "WF3: Cohere Reranker",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 188,
        "total_duration_ms": 18826,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Reranker Fallback Handler": {
        "name": "Reranker Fallback Handler",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 27,
        "total_duration_ms": 2796,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "JS: Token Budgeting & Map-Reduce": {
        "name": "JS: Token Budgeting & Map-Reduce",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 20,
        "total_duration_ms": 2002,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Response Formatter": {
        "name": "Response Formatter",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 26,
        "total_duration_ms": 2656,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "EMBEDDING_FALLBACK",
            "severity": "medium",
            "node": "Response Formatter",
            "detail": "Using embedding fallback — primary embedding failed",
            "suggestion": "Check OpenRouter credits or embedding API configuration."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "LLM Answer Synthesis": {
        "name": "LLM Answer Synthesis",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 786,
        "total_duration_ms": 78662,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "SLOW_NODE",
            "severity": "low",
            "node": "LLM Answer Synthesis",
            "detail": "Node took 8127ms (>5000ms threshold)",
            "metric": {
              "duration_ms": 8127
            },
            "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
          }
        ],
        "llm_avg_output_chars": 28,
        "llm_avg_tokens": 6
      },
      "Answer Formatter": {
        "name": "Answer Formatter",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 35,
        "total_duration_ms": 3543,
        "is_llm": true,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "ZERO_RETRIEVAL",
            "severity": "critical",
            "node": "Answer Formatter",
            "detail": "0 documents retrieved. Warnings: []",
            "suggestion": "Check embedding generation, vector index, and query formation."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Shield #9: Export Trace": {
        "name": "Shield #9: Export Trace",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 0,
        "total_duration_ms": 15,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "ZERO_RETRIEVAL",
            "severity": "critical",
            "node": "Shield #9: Export Trace",
            "detail": "0 documents retrieved. Warnings: []",
            "suggestion": "Check embedding generation, vector index, and query formation."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      },
      "Respond to Webhook": {
        "name": "Respond to Webhook",
        "executions": 100,
        "errors": 0,
        "avg_duration_ms": 1,
        "total_duration_ms": 123,
        "is_llm": false,
        "is_retrieval": false,
        "is_routing": false,
        "issues": [
          {
            "type": "ZERO_RETRIEVAL",
            "severity": "critical",
            "node": "Respond to Webhook",
            "detail": "0 documents retrieved. Warnings: []",
            "suggestion": "Check embedding generation, vector index, and query formation."
          }
        ],
        "llm_avg_output_chars": 0,
        "llm_avg_tokens": 0
      }
    },
    "cross_execution_patterns": {
      "node_health": {
        "Webhook": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "OTEL Init": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "WF3: HyDE & Entity Extraction": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Neo4j Query Builder (Deep Traversal V2)": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Shield #4: Neo4j Guardian Traversal": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Validate Neo4j Results": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Community Summaries Fetch": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Extract HyDE Document": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Generate HyDE Embedding": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Validate Embedding": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "WF3: Pinecone HyDE Search": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Merge": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Merge Graph + Vector + Community (Deep)": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "WF3: Cohere Reranker": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Reranker Fallback Handler": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "JS: Token Budgeting & Map-Reduce": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Response Formatter": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "LLM Answer Synthesis": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Answer Formatter": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Shield #9: Export Trace": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        },
        "Respond to Webhook": {
          "total_runs": 100,
          "errors": 0,
          "error_rate_pct": 0.0,
          "health": "healthy"
        }
      },
      "latency_bottlenecks": [
        {
          "node": "WF3: HyDE & Entity Extraction",
          "avg_ms": 11147,
          "p95_ms": 56068,
          "max_ms": 81928,
          "samples": 100
        }
      ],
      "verbosity_report": {
        "WF3: HyDE & Entity Extraction": {
          "avg_chars": 2194,
          "max_chars": 4201,
          "min_chars": 916,
          "samples": 37,
          "verdict": "critical"
        },
        "LLM Answer Synthesis": {
          "avg_chars": 28,
          "max_chars": 171,
          "min_chars": 5,
          "samples": 37,
          "verdict": "ok"
        }
      },
      "routing_summary": {
        "Neo4j Query Builder (Deep Traversal V2)": {
          "skip_neo4j=False": 21,
          "skip_neo4j=True": 79
        },
        "Extract HyDE Document": {
          "hyde_success=True": 96,
          "hyde_success=False": 4
        },
        "Reranker Fallback Handler": {
          "fallback=True": 100
        },
        "JS: Token Budgeting & Map-Reduce": {
          "fallback=True": 100
        },
        "Response Formatter": {
          "embedding_fallback=True": 100
        },
        "Validate Neo4j Results": {
          "skip_graph=True": 79
        },
        "Merge": {
          "skip_graph=True": 79
        },
        "Validate Embedding": {
          "fallback=True": 1
        }
      }
    },
    "top_issues": [
      {
        "type": "ZERO_RETRIEVAL",
        "severity": "critical",
        "node": "Answer Formatter",
        "detail": "0 documents retrieved. Warnings: []",
        "suggestion": "Check embedding generation, vector index, and query formation."
      },
      {
        "type": "ZERO_RETRIEVAL",
        "severity": "critical",
        "node": "Shield #9: Export Trace",
        "detail": "0 documents retrieved. Warnings: []",
        "suggestion": "Check embedding generation, vector index, and query formation."
      },
      {
        "type": "ZERO_RETRIEVAL",
        "severity": "critical",
        "node": "Respond to Webhook",
        "detail": "0 documents retrieved. Warnings: []",
        "suggestion": "Check embedding generation, vector index, and query formation."
      },
      {
        "type": "VERBOSE_LLM_CRITICAL",
        "severity": "high",
        "node": "WF3: HyDE & Entity Extraction",
        "detail": "LLM output is 2501 chars — likely producing near-final answers instead of intermediate results",
        "metric": {
          "output_chars": 2501
        },
        "suggestion": "Constrain the system prompt to output ONLY the required intermediate data (entities, SQL, routing decision). Add max_tokens limit."
      },
      {
        "type": "VERY_SLOW_NODE",
        "severity": "high",
        "node": "WF3: HyDE & Entity Extraction",
        "detail": "Node took 16522ms (>15000ms threshold)",
        "metric": {
          "duration_ms": 16522
        },
        "suggestion": "Check if this node is making external API calls that could be cached or parallelized."
      },
      {
        "type": "HIGH_TOKEN_USAGE",
        "severity": "medium",
        "node": "WF3: HyDE & Entity Extraction",
        "detail": "Completion tokens: 518 (threshold: 500)",
        "metric": {
          "completion_tokens": 518,
          "prompt_tokens": 75
        },
        "suggestion": "Reduce completion length via max_tokens parameter or streamline the prompt."
      },
      {
        "type": "EMBEDDING_FALLBACK",
        "severity": "medium",
        "node": "Response Formatter",
        "detail": "Using embedding fallback — primary embedding failed",
        "suggestion": "Check OpenRouter credits or embedding API configuration."
      },
      {
        "type": "VERBOSE_LLM",
        "severity": "medium",
        "node": "WF3: HyDE & Entity Extraction",
        "detail": "LLM output is 1385 chars — may be overly detailed for an intermediate step",
        "metric": {
          "output_chars": 1385
        },
        "suggestion": "Consider adding max_tokens constraint or simplifying the prompt."
      },
      {
        "type": "SLOW_NODE",
        "severity": "low",
        "node": "WF3: HyDE & Entity Extraction",
        "detail": "Node took 7606ms (>5000ms threshold)",
        "metric": {
          "duration_ms": 7606
        },
        "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
      },
      {
        "type": "SLOW_NODE",
        "severity": "low",
        "node": "LLM Answer Synthesis",
        "detail": "Node took 8127ms (>5000ms threshold)",
        "metric": {
          "duration_ms": 8127
        },
        "suggestion": "Monitor — may be acceptable for LLM/embedding calls."
      }
    ],
    "recommendations": [
      {
        "priority": "CRITICAL",
        "type": "ZERO_RETRIEVAL",
        "affected_nodes": [
          "Answer Formatter",
          "Shield #9: Export Trace",
          "Respond to Webhook"
        ],
        "description": "0 documents retrieved. Warnings: []",
        "action": "Check embedding generation, vector index, and query formation.",
        "occurrences": 300
      },
      {
        "priority": "HIGH",
        "type": "VERBOSE_LLM",
        "affected_nodes": [
          "WF3: HyDE & Entity Extraction"
        ],
        "description": "LLM node 'WF3: HyDE & Entity Extraction' avg output: 2194 chars (max: 4201)",
        "action": "Constrain system prompt to output only required intermediate data. Add max_tokens parameter.",
        "occurrences": 37
      },
      {
        "priority": "MEDIUM",
        "type": "LATENCY_BOTTLENECK",
        "affected_nodes": [
          "WF3: HyDE & Entity Extraction"
        ],
        "description": "Node 'WF3: HyDE & Entity Extraction' avg 11147ms (p95: 56068ms)",
        "action": "Consider caching, parallelization, or model optimization.",
        "occurrences": 100
      }
    ],
    "execution_ids": [
      "19456",
      "19398",
      "19371",
      "19347",
      "19305",
      "19304",
      "19303",
      "19302",
      "19301",
      "19293",
      "19292",
      "19291",
      "19290",
      "19289",
      "19283",
      "19281",
      "19260",
      "19259",
      "19258",
      "19257",
      "19256",
      "19248",
      "19247",
      "19230",
      "19229",
      "19228",
      "19227",
      "19226",
      "19197",
      "19196",
      "19195",
      "19194",
      "19193",
      "19184",
      "19177",
      "19155",
      "19154",
      "19153",
      "19152",
      "19151",
      "19142",
      "19134",
      "18882",
      "18879",
      "18878",
      "18876",
      "18874",
      "18872",
      "18870",
      "18868",
      "18866",
      "18865",
      "18863",
      "18861",
      "18859",
      "18858",
      "18856",
      "18854",
      "18852",
      "18851",
      "18849",
      "18844",
      "18843",
      "18838",
      "18836",
      "18834",
      "18833",
      "18831",
      "18829",
      "18827",
      "18825",
      "18823",
      "18821",
      "18820",
      "18818",
      "18816",
      "18814",
      "18813",
      "18811",
      "18809",
      "18807",
      "18805",
      "18804",
      "18801",
      "18799",
      "18797",
      "18795",
      "18793",
      "18791",
      "18790",
      "18786",
      "18783",
      "18779",
      "18758",
      "18755",
      "18754",
      "18750",
      "18748",
      "18745",
      "18743"
    ]
  }
}