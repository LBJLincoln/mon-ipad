{
  "versions": {
    "standard": {
      "version": 5,
      "hash": "2733b6faf639388d",
      "timestamp": "2026-02-09T04:14:51.526758Z",
      "snapshot_file": "standard-2026-02-09T04-14-50-2733b6faf639388d.json",
      "name": "WF5 Standard RAG V3.4",
      "webhook": "/webhook/rag-multi-index-v3",
      "summary": {
        "total_nodes": 23,
        "node_types": {
          "executeWorkflowTrigger": 1,
          "webhook": 1,
          "code": 7,
          "httpRequest": 8,
          "postgres": 1,
          "merge": 1,
          "if": 2,
          "stickyNote": 1,
          "chatTrigger": 1
        },
        "models_used": [],
        "node_names": [
          "Sub-Workflow Trigger",
          "Webhook",
          "Init & ACL Pre-Filter V3.4",
          "HyDE Generator",
          "HyDE Embedding",
          "HTTP Pinecone Query HyDE",
          "Original Embedding",
          "HTTP Pinecone Query Original",
          "BM25 Search Postgres",
          "Wait All Branches",
          "RRF Merge & Rank V3.4",
          "Cohere Reranker",
          "Rerank Merger",
          "LLM Generation",
          "Response Formatter",
          "Skip LLM?",
          "Needs Decomposition?",
          "Query Merger V3.4",
          "üìã Configuration SOTA 2026",
          "When chat message received",
          "Query Decomposer (V.3.4)",
          "GitHub Error Logger (standard)",
          "Execution Summary (standard)"
        ]
      },
      "diff_from_previous": {
        "added_nodes": [],
        "removed_nodes": [],
        "modified_nodes": [
          {
            "node": "HyDE Generator",
            "changes": [
              {
                "param": "jsonBody",
                "old": "={\n  \"model\": \"{{ $vars.LLM_HYDE_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Genere un document hypothetique de 150-200 mots ",
                "new": "={\n  \"model\": \"{{ $vars.LLM_HYDE_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Generate a concise hypothetical document (50-100"
              }
            ]
          },
          {
            "node": "LLM Generation",
            "changes": [
              {
                "param": "jsonBody",
                "old": "={\n  \"model\": \"{{ $vars.LLM_FAST_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Tu es un assistant expert. Reponds de maniere pr",
                "new": "={\n  \"model\": \"{{ $vars.LLM_FAST_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are an expert assistant. Answer the question"
              }
            ]
          }
        ],
        "has_changes": true,
        "summary": "+0 -0 ~2 nodes"
      }
    },
    "graph": {
      "version": 7,
      "hash": "8f2c68b196dc3110",
      "timestamp": "2026-02-09T03:59:50.020965Z",
      "snapshot_file": "graph-2026-02-09T03-59-49-8f2c68b196dc3110.json",
      "name": "WF2 Graph RAG V3.3",
      "webhook": "/webhook/ff622742-6d71-4e91-af71-b5c666088717",
      "summary": {
        "total_nodes": 26,
        "node_types": {
          "code": 12,
          "httpRequest": 7,
          "postgres": 1,
          "stickyNote": 1,
          "executeWorkflowTrigger": 1,
          "chatTrigger": 1,
          "webhook": 1,
          "merge": 1,
          "respondToWebhook": 1
        },
        "models_used": [],
        "node_names": [
          "OTEL Init",
          "WF3: HyDE & Entity Extraction",
          "Neo4j Query Builder (Deep Traversal V2)",
          "Shield #4: Neo4j Guardian Traversal",
          "WF3: Pinecone HyDE Search",
          "Community Summaries Fetch",
          "Merge Graph + Vector + Community (Deep)",
          "WF3: Cohere Reranker",
          "Reranker Fallback Handler",
          "JS: Token Budgeting & Map-Reduce",
          "Response Formatter",
          "Shield #9: Export Trace",
          "üìã Configuration SOTA 2026",
          "When Executed by Another Workflow",
          "When chat message received",
          "Webhook",
          "Generate HyDE Embedding",
          "Extract HyDE Document",
          "Validate Neo4j Results",
          "Validate Embedding",
          "Merge",
          "LLM Answer Synthesis",
          "Answer Formatter",
          "Respond to Webhook",
          "GitHub Error Logger (graph)",
          "Entity Extraction Logger"
        ]
      },
      "diff_from_previous": {
        "added_nodes": [],
        "removed_nodes": [],
        "modified_nodes": [
          {
            "node": "Answer Formatter",
            "changes": [
              {
                "param": "jsCode",
                "old": "// Extract LLM answer and format final response\n// Handle rate limit errors gracefully\nconst llmResponse = $json;\nlet answer = '';\n\nif (llmResponse.error) {\n  // LLM call failed - try to extract parti",
                "new": "// Extract LLM answer and format final response\n// Handle rate limit errors gracefully\nconst llmResponse = $json;\nlet answer = '';\n\nif (llmResponse.error) {\n  // LLM call failed - try to extract parti"
              }
            ]
          }
        ],
        "has_changes": true,
        "summary": "+0 -0 ~1 nodes"
      }
    },
    "quantitative": {
      "version": 3,
      "hash": "ba83b107d0984014",
      "timestamp": "2026-02-09T03:09:07.540677Z",
      "snapshot_file": "quantitative-2026-02-09T03-09-06-ba83b107d0984014.json",
      "name": "WF4 Quantitative V2.0",
      "webhook": "/webhook/3e0f8010-39e0-4bca-9d19-35e5094391a9",
      "summary": {
        "total_nodes": 25,
        "node_types": {
          "code": 13,
          "postgres": 2,
          "httpRequest": 4,
          "errorTrigger": 1,
          "if": 1,
          "stickyNote": 1,
          "executeWorkflowTrigger": 1,
          "chatTrigger": 1,
          "webhook": 1
        },
        "models_used": [],
        "node_names": [
          "Init & ACL",
          "Schema Introspection",
          "Schema Context Builder",
          "Text-to-SQL Generator (CoT Enhanced)",
          "SQL Validator (Shield #1)",
          "SQL Executor (Postgres)",
          "Result Aggregator",
          "Interpretation Layer (LLM Analyst)",
          "Response Formatter",
          "OTEL Export (Shield #9)",
          "Error Handler",
          "Error Response Builder",
          "SQL Error Handler (Self-Healing)",
          "SQL Repair LLM",
          "Needs SQL Repair?",
          "Repair Parser",
          "üìã Configuration SOTA 2026",
          "When Executed by Another Workflow",
          "When chat message received",
          "Webhook",
          "Prepare SQL Request",
          "Prepare Interpretation Request",
          "Prepare SQL Repair Request",
          "GitHub Error Logger (quantitative)",
          "SQL Execution Logger"
        ]
      },
      "diff_from_previous": {
        "added_nodes": [],
        "removed_nodes": [],
        "modified_nodes": [
          {
            "node": "Interpretation Layer (LLM Analyst)",
            "changes": [
              {
                "param": "authentication",
                "old": "predefinedCredentialType",
                "new": "none"
              },
              {
                "param": "sendHeaders",
                "old": "",
                "new": "True"
              },
              {
                "param": "headerParameters",
                "old": "",
                "new": "{'parameters': [{'name': 'Authorization', 'value': '=Bearer {{ $vars.OPENROUTER_API_KEY }}'}]}"
              }
            ]
          },
          {
            "node": "Text-to-SQL Generator (CoT Enhanced)",
            "changes": [
              {
                "param": "authentication",
                "old": "predefinedCredentialType",
                "new": "none"
              },
              {
                "param": "sendHeaders",
                "old": "",
                "new": "True"
              },
              {
                "param": "headerParameters",
                "old": "",
                "new": "{'parameters': [{'name': 'Authorization', 'value': '=Bearer {{ $vars.OPENROUTER_API_KEY }}'}]}"
              }
            ]
          },
          {
            "node": "SQL Repair LLM",
            "changes": [
              {
                "param": "authentication",
                "old": "predefinedCredentialType",
                "new": "none"
              },
              {
                "param": "sendHeaders",
                "old": "",
                "new": "True"
              },
              {
                "param": "headerParameters",
                "old": "",
                "new": "{'parameters': [{'name': 'Authorization', 'value': '=Bearer {{ $vars.OPENROUTER_API_KEY }}'}]}"
              }
            ]
          },
          {
            "node": "Prepare SQL Repair Request",
            "changes": [
              {
                "param": "jsCode",
                "old": "// Prepare SQL Repair Request - Safe JSON Building\nconst errorHandlerData = $json;\nconst repairContext = errorHandlerData.repair_context;\n\nconst requestBody = {\n  model: $vars.LLM_SQL_MODEL || 'meta-l",
                "new": "// Prepare SQL Repair Request - null-safe guard\nconst errorHandlerData = $json;\nconst repairContext = errorHandlerData.repair_context || {};\n\nif (!repairContext.failed_sql) {\n  return { json: { ...err"
              }
            ]
          },
          {
            "node": "SQL Error Handler (Self-Healing)",
            "changes": [
              {
                "param": "jsCode",
                "old": "// SQL Error Handler - Self-Healing with graceful fallback\ntry {\n  const executorResult = $json;\n\n  let validatorData = {};\n  let originalQuery = '';\n  let schemaContext = '';\n  let tenantId = 'defaul",
                "new": "// SQL Error Handler - Self-Healing (MAX 3 REPAIRS)\nconst MAX_REPAIRS = 3;\nconst currentAttempt = ($json.repair_attempts || 0) + 1;\n\nif (currentAttempt > MAX_REPAIRS) {\n  // Give up - return error res"
              }
            ]
          },
          {
            "node": "Prepare SQL Request",
            "changes": [
              {
                "param": "jsCode",
                "old": "// Prepare SQL Request - Safe JSON Building\nconst initData = $node['Schema Context Builder'].json;\n\nconst requestBody = {\n  model: $vars.LLM_SQL_MODEL || 'meta-llama/llama-3.3-70b-instruct:free',\n  me",
                "new": "// Prepare SQL Request - Safe JSON Building\nconst initData = $node['Schema Context Builder'].json;\n\nconst requestBody = {\n  model: $vars.LLM_SQL_MODEL || 'meta-llama/llama-3.3-70b-instruct:free',\n  me"
              }
            ]
          }
        ],
        "has_changes": true,
        "summary": "+0 -0 ~6 nodes"
      }
    },
    "orchestrator": {
      "version": 6,
      "hash": "eaa2eed29d2e89d7",
      "timestamp": "2026-02-09T04:14:53.120781Z",
      "snapshot_file": "orchestrator-2026-02-09T04-14-50-eaa2eed29d2e89d7.json",
      "name": "V10.1 Orchestrator",
      "webhook": "/webhook/92217bb8-ffc8-459a-8331-3f553812c3d0",
      "summary": {
        "total_nodes": 68,
        "node_types": {
          "webhook": 1,
          "chatTrigger": 1,
          "code": 25,
          "redis": 4,
          "postgres": 10,
          "executeWorkflow": 3,
          "if": 7,
          "respondToWebhook": 7,
          "errorTrigger": 1,
          "httpRequest": 5,
          "stickyNote": 1,
          "switch": 2,
          "merge": 1
        },
        "models_used": [],
        "node_names": [
          "Webhook V8",
          "Chat Trigger V8",
          "Input Merger V8",
          "Init V8 Security & Analysis",
          "Redis: Fetch Conversation",
          "Postgres L2/L3 Memory",
          "Invoke WF5: Standard",
          "Invoke WF2: Graph",
          "Invoke WF4: Quantitative",
          "Response Builder V9",
          "Store RLHF Data V8",
          "Redis: Store Conv V8",
          "Postgres: Update Context V8",
          "Output Router (Final)",
          "Chat: Final V8",
          "Return Response V8",
          "Error Handler V8",
          "Error Payload V8",
          "Export Error V8",
          "Return: Error Response",
          "üß† LLM 1: Intent Analyzer",
          "Intent Parser V9",
          "üéØ LLM 2: Task Planner",
          "üìã Config SOTA 2026",
          "üõ°Ô∏è Rate Limit Guard",
          "IF: Rate Limited?",
          "Return: Rate Limited",
          "Cache Parser",
          "IF: Cache Hit?",
          "Return: Cached",
          "Postgres: Init Tasks Table",
          "üìù Format & Dispatch (Plan‚ÜíDB)",
          "Postgres: Insert Tasks",
          "‚öôÔ∏è Execution Engine V10",
          "üîÄ Dynamic Switch V10",
          "üì• Task Result Handler",
          "Postgres: Update Task",
          "üîÑ Fallback Monitor V10",
          "IF: Fallback Needed?",
          "üîÑ Fallback Dispatch",
          "Postgres: Update Fallback",
          "üíæ Cache Storage",
          "Redis: Set Cache",
          "üß† Memory Merger (Redis + Postgres)",
          "üõ°Ô∏è Advanced Guardrails",
          "IF: Guardrail Passed?",
          "Return: Guardrail Blocked",
          "üîÄ Query Router",
          "üí¨ Conversational Handler",
          "Return: Conversational",
          "üîé Cache Semantic Search",
          "Redis: Cache + Generator",
          "üéØ LLM 3: Agent Harness (Opus 4.5)",
          "üìä Agent Decision Parser",
          "üîÑ Task Updater",
          "Postgres: Apply Skips",
          "Postgres: Insert New Tasks",
          "üìä Task Status Aggregator",
          "üõ°Ô∏è Redis Failure Handler V10.1",
          "üì¶ Context Compression V10.1",
          "üîç Query Classifier V10.1",
          "HTTP Request",
          "Postgres : Get Current Tasks",
          "Merge",
          "If",
          "If1",
          "GitHub Error Logger (orchestrator)",
          "Execution Summary (orchestrator)"
        ]
      },
      "diff_from_previous": {
        "added_nodes": [],
        "removed_nodes": [],
        "modified_nodes": [
          {
            "node": "üéØ LLM 3: Agent Harness (Opus 4.5)",
            "changes": [
              {
                "param": "jsonBody",
                "old": "={{ {\n  \"model\": $vars.LLM_AGENT_MODEL || 'meta-llama/llama-3.3-70b-instruct:free',\n  \"max_tokens\": 2000,\n  \"temperature\": 0.3,\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are ",
                "new": "={{ {\n  \"model\": $vars.LLM_AGENT_MODEL || 'meta-llama/llama-3.3-70b-instruct:free',\n  \"max_tokens\": 2000,\n  \"temperature\": 0.3,\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are "
              }
            ]
          },
          {
            "node": "üß† LLM 1: Intent Analyzer",
            "changes": [
              {
                "param": "jsonBody",
                "old": "={\n  \"model\": \"{{ $vars.LLM_INTENT_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are the INTENT ANALYZER of a sophisticated",
                "new": "={\n  \"model\": \"{{ $vars.LLM_INTENT_MODEL || 'meta-llama/llama-3.3-70b-instruct:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are the INTENT ANALYZER of a sophisticated"
              }
            ]
          },
          {
            "node": "HTTP Request",
            "changes": [
              {
                "param": "jsonBody",
                "old": "={\n  \"model\": \"{{ $vars.LLM_FAST_MODEL || 'google/gemma-3-27b-it:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Tu es l'INTENT ANALYZER d'un syst√®me RAG multi-moteurs sophi",
                "new": "={\n  \"model\": \"{{ $vars.LLM_FAST_MODEL || 'google/gemma-3-27b-it:free' }}\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are the INTENT ANALYZER of a sophisticated multi-engine "
              }
            ]
          }
        ],
        "has_changes": true,
        "summary": "+0 -0 ~3 nodes"
      }
    }
  },
  "history": [
    {
      "timestamp": "2026-02-08T10:13:53.876140Z",
      "pipeline": "standard",
      "version": 1,
      "hash": "84d655f7dd6b4285",
      "diff_summary": "initial",
      "snapshot_file": "standard-2026-02-08T10-13-53-84d655f7dd6b4285.json"
    },
    {
      "timestamp": "2026-02-08T10:13:54.464328Z",
      "pipeline": "graph",
      "version": 1,
      "hash": "0d8b93db1b973437",
      "diff_summary": "initial",
      "snapshot_file": "graph-2026-02-08T10-13-53-0d8b93db1b973437.json"
    },
    {
      "timestamp": "2026-02-08T10:13:55.077914Z",
      "pipeline": "quantitative",
      "version": 1,
      "hash": "be29c6eb1f039f56",
      "diff_summary": "initial",
      "snapshot_file": "quantitative-2026-02-08T10-13-53-be29c6eb1f039f56.json"
    },
    {
      "timestamp": "2026-02-08T10:13:55.548007Z",
      "pipeline": "orchestrator",
      "version": 1,
      "hash": "fe3f79014b73ce12",
      "diff_summary": "initial",
      "snapshot_file": "orchestrator-2026-02-08T10-13-53-fe3f79014b73ce12.json"
    },
    {
      "timestamp": "2026-02-08T19:49:21.514634Z",
      "pipeline": "standard",
      "version": 2,
      "hash": "d578dc6a4d9df340",
      "diff_summary": "+0 -0 ~1 nodes",
      "snapshot_file": "standard-2026-02-08T19-49-20-d578dc6a4d9df340.json"
    },
    {
      "timestamp": "2026-02-08T19:49:22.116594Z",
      "pipeline": "graph",
      "version": 2,
      "hash": "45d303db74b3ad80",
      "diff_summary": "+0 -0 ~3 nodes",
      "snapshot_file": "graph-2026-02-08T19-49-20-45d303db74b3ad80.json"
    },
    {
      "timestamp": "2026-02-08T19:49:23.483108Z",
      "pipeline": "orchestrator",
      "version": 2,
      "hash": "23998b9e1fa8a7e2",
      "diff_summary": "+0 -0 ~2 nodes",
      "snapshot_file": "orchestrator-2026-02-08T19-49-20-23998b9e1fa8a7e2.json"
    },
    {
      "timestamp": "2026-02-08T20:03:49.655716Z",
      "pipeline": "graph",
      "version": 3,
      "hash": "d7076662382217d6",
      "diff_summary": "+0 -0 ~2 nodes",
      "snapshot_file": "graph-2026-02-08T20-03-49-d7076662382217d6.json"
    },
    {
      "timestamp": "2026-02-08T20:03:49.904409Z",
      "pipeline": "quantitative",
      "version": 2,
      "hash": "c9e99a05d63f0e47",
      "diff_summary": "+0 -0 ~3 nodes",
      "snapshot_file": "quantitative-2026-02-08T20-03-49-c9e99a05d63f0e47.json"
    },
    {
      "timestamp": "2026-02-08T20:03:50.279220Z",
      "pipeline": "orchestrator",
      "version": 3,
      "hash": "c55e6aa96654944a",
      "diff_summary": "+0 -0 ~4 nodes",
      "snapshot_file": "orchestrator-2026-02-08T20-03-49-c55e6aa96654944a.json"
    },
    {
      "timestamp": "2026-02-08T20:19:31.853822Z",
      "pipeline": "graph",
      "version": 4,
      "hash": "d6ab9804916d48c4",
      "diff_summary": "+0 -0 ~5 nodes",
      "snapshot_file": "graph-2026-02-08T20-19-30-d6ab9804916d48c4.json"
    },
    {
      "timestamp": "2026-02-08T20:31:37.765813Z",
      "pipeline": "graph",
      "version": 5,
      "hash": "3bf32010e221159c",
      "diff_summary": "+0 -0 ~2 nodes",
      "snapshot_file": "graph-2026-02-08T20-31-37-3bf32010e221159c.json"
    },
    {
      "timestamp": "2026-02-08T20:34:16.702700Z",
      "pipeline": "orchestrator",
      "version": 4,
      "hash": "b43d039e4e56ccec",
      "diff_summary": "+0 -0 ~2 nodes",
      "snapshot_file": "orchestrator-2026-02-08T20-34-15-b43d039e4e56ccec.json"
    },
    {
      "timestamp": "2026-02-09T03:09:06.601574Z",
      "pipeline": "standard",
      "version": 3,
      "hash": "77ce11e45b64537e",
      "diff_summary": "+0 -0 ~7 nodes",
      "snapshot_file": "standard-2026-02-09T03-09-06-77ce11e45b64537e.json"
    },
    {
      "timestamp": "2026-02-09T03:09:06.935968Z",
      "pipeline": "graph",
      "version": 6,
      "hash": "fc7f35d4da4f1140",
      "diff_summary": "+0 -0 ~3 nodes",
      "snapshot_file": "graph-2026-02-09T03-09-06-fc7f35d4da4f1140.json"
    },
    {
      "timestamp": "2026-02-09T03:09:07.540690Z",
      "pipeline": "quantitative",
      "version": 3,
      "hash": "ba83b107d0984014",
      "diff_summary": "+0 -0 ~6 nodes",
      "snapshot_file": "quantitative-2026-02-09T03-09-06-ba83b107d0984014.json"
    },
    {
      "timestamp": "2026-02-09T03:09:08.143793Z",
      "pipeline": "orchestrator",
      "version": 5,
      "hash": "0c2b1440cb8034e4",
      "diff_summary": "+0 -0 ~4 nodes",
      "snapshot_file": "orchestrator-2026-02-09T03-09-06-0c2b1440cb8034e4.json"
    },
    {
      "timestamp": "2026-02-09T03:59:49.523667Z",
      "pipeline": "standard",
      "version": 4,
      "hash": "1b240670981017e4",
      "diff_summary": "+0 -0 ~1 nodes",
      "snapshot_file": "standard-2026-02-09T03-59-49-1b240670981017e4.json"
    },
    {
      "timestamp": "2026-02-09T03:59:50.020978Z",
      "pipeline": "graph",
      "version": 7,
      "hash": "8f2c68b196dc3110",
      "diff_summary": "+0 -0 ~1 nodes",
      "snapshot_file": "graph-2026-02-09T03-59-49-8f2c68b196dc3110.json"
    },
    {
      "timestamp": "2026-02-09T04:14:51.526773Z",
      "pipeline": "standard",
      "version": 5,
      "hash": "2733b6faf639388d",
      "diff_summary": "+0 -0 ~2 nodes",
      "snapshot_file": "standard-2026-02-09T04-14-50-2733b6faf639388d.json"
    },
    {
      "timestamp": "2026-02-09T04:14:53.120795Z",
      "pipeline": "orchestrator",
      "version": 6,
      "hash": "eaa2eed29d2e89d7",
      "diff_summary": "+0 -0 ~3 nodes",
      "snapshot_file": "orchestrator-2026-02-09T04-14-50-eaa2eed29d2e89d7.json"
    }
  ]
}