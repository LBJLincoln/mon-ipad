{
  "generated_at": "2026-02-06T07:33:35.958522",
  "generated_by": "advanced-edge-case-test-battery",
  "total_tests": 13,
  "passed": 8,
  "failed": 0,
  "warned": 5,
  "code_nodes_analyzed": 73,
  "tests": [
    {
      "name": "T14: JSON.parse Safety",
      "status": "PASS",
      "details": [
        "Chunk Validator & Enricher V4: 1 JSON.parse calls checked",
        "Q&A Enricher: 1 JSON.parse calls checked",
        "Relationship Mapper V3.1 (Entity Linking): 1 JSON.parse calls checked",
        "Aggregate Entity Results: 1 JSON.parse calls checked",
        "Global Entity Resolution: 1 JSON.parse calls checked",
        "Intent Parser V9: 1 JSON.parse calls checked",
        "Cache Parser: 1 JSON.parse calls checked",
        "ðŸ“ Format & Dispatch (Planâ†’DB): 1 JSON.parse calls checked",
        "âš™ï¸ Execution Engine V10: 1 JSON.parse calls checked",
        "ðŸ§  Memory Merger (Redis + Postgres): 2 JSON.parse calls checked",
        "ðŸ“Š Agent Decision Parser: 2 JSON.parse calls checked",
        "ðŸ›¡ï¸ Redis Failure Handler V10.1: 1 JSON.parse calls checked",
        "Query Merger V3.4: 1 JSON.parse calls checked",
        "OTEL Init: 1 JSON.parse calls checked",
        "Neo4j Query Builder (Deep Traversal V2): 1 JSON.parse calls checked",
        "Merge Graph + Vector + Community (Deep): 1 JSON.parse calls checked",
        "Extract HyDE Document: 1 JSON.parse calls checked",
        "Centrality Scoring: 1 JSON.parse calls checked",
        "Init & ACL: 1 JSON.parse calls checked",
        "SQL Validator (Shield #1): 1 JSON.parse calls checked",
        "Repair Parser: 1 JSON.parse calls checked"
      ],
      "errors": []
    },
    {
      "name": "T15: Null-safe Property Access",
      "status": "PASS",
      "details": [
        "Init Lock & Trace: safe",
        "Lock Result Handler: safe",
        "MIME Type Detector: safe",
        "PII Fortress: safe",
        "Chunk Validator & Enricher V4: safe",
        "Q&A Enricher: safe",
        "Prepare Vectors V3.1 (Contextual): safe",
        "Prepare Lock Release: safe",
        "Prepare Contextual Prompts: safe",
        "Aggregate Contextual Chunks: safe",
        "BM25 Sparse Vector Generator: safe",
        "Init OT Trace: safe",
        "Prepare Lock: safe",
        "Lock Result Handler: safe",
        "Normalize & Merge: safe"
      ],
      "errors": []
    },
    {
      "name": "T16: staticData Memory Leak Detection",
      "status": "PASS",
      "details": [
        "âš™ï¸ Execution Engine V10: staticData grows but has mitigations: has delete, has size limit",
        "ðŸ“Š Task Status Aggregator: uses staticData (no unbounded growth detected)",
        "Metrics Aggregator V3.1 (Drift Detection): uses staticData (no unbounded growth detected)",
        "Diagnostic Error Handler (Q02): staticData grows but has mitigations: has delete, has expiry check"
      ],
      "errors": []
    },
    {
      "name": "T17: Division / NaN / Infinity Guards",
      "status": "WARN",
      "details": [
        "BM25 Sparse Vector Generator: 1 potential math issues",
        "Response Builder V9: 2 potential math issues",
        "Query Merger V3.4: 1 potential math issues",
        "Merge Graph + Vector + Community (Deep): 2 potential math issues",
        "JS: Token Budgeting & Map-Reduce: 2 potential math issues",
        "Centrality Scoring: 1 potential math issues",
        "Metrics Aggregator V3.1 (Drift Detection): 1 potential math issues",
        "Diagnostic Error Handler (Q02): 7 potential math issues"
      ],
      "errors": [
        "[TEST - SOTA 2026 - Ingestion V3.1.json] 'BM25 Sparse Vector Generator': Math.log((N - (df[term] || 0) without positivity guard",
        "[V10.1 orchestrator copy (5).json] 'Response Builder V9': Division by 'sorted.length' without zero guard: confidence = sorted.reduce((sum, r) => sum + (r.confidence |",
        "[V10.1 orchestrator copy (5).json] 'Response Builder V9': Division by 'sorted.length' without zero guard: confidence = sorted.reduce((sum, r) => sum + (r.confidence |",
        "[TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json] 'Query Merger V3.4': Division by 'queriesToProcess.length' without zero guard: topK_per_query: Math.ceil(initData.topK / queriesToProcess.l",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'Merge Graph + Vector + Community (Deep)': Division by 'maxGraphScore' without zero guard: normalizedScore = (r.path_score / maxGraphScore) * (1 / (r.p",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'Merge Graph + Vector + Community (Deep)': Division by 'maxVectorScore' without zero guard: normalizedScore = r.score / maxVectorScore;",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'JS: Token Budgeting & Map-Reduce': Division by 'CHARS_PER_TOKEN' without zero guard: const tokens = Math.ceil(content.length / CHARS_PER_TOKEN);",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'JS: Token Budgeting & Map-Reduce': Division by 'CHARS_PER_TOKEN' without zero guard: const tokens = Math.ceil((result.content?.length || 0) / CHA",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'Centrality Scoring': Division by 'maxConnections' without zero guard: acc[key] = count / maxConnections;",
        "[TEST - SOTA 2026 - Feedback V3.1.json] 'Metrics Aggregator V3.1 (Drift Detection)': parseFloat() without fallback value",
        "[TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json] 'Diagnostic Error Handler (Q02)': Division by 'syntax' without zero guard: pattern: /syntax error at or near|ERROR:\\s*syntax/i,",
        "[TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json] 'Diagnostic Error Handler (Q02)': Division by 'column' without zero guard: pattern: /column.*does not exist|ERROR:\\s*column/i,",
        "[TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json] 'Diagnostic Error Handler (Q02)': Division by 'relation' without zero guard: pattern: /relation.*does not exist|ERROR:\\s*relation/i,"
      ]
    },
    {
      "name": "T18: Error Handler Coverage",
      "status": "WARN",
      "details": [
        "TEST - SOTA 2026 - Ingestion V3.1.json: 2 triggers, 1 error handlers, 5 nodes with onError",
        "V10.1 orchestrator copy (5).json: 3 triggers, 3 error handlers, 14 nodes with onError",
        "TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json: 4 triggers, 3 error handlers, 3 nodes with onError"
      ],
      "errors": [
        "[TEST - SOTA 2026 - Enrichissement V3.1.json] Has 1 triggers but no error handler node (recommended)",
        "[TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json] Has 3 triggers but no error handler node (recommended)",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] Has 3 triggers but no error handler node (recommended)",
        "[TEST - SOTA 2026 - Feedback V3.1.json] Has 1 triggers but no error handler node (recommended)"
      ]
    },
    {
      "name": "T19: HTTP Node Credential & Timeout Coverage",
      "status": "PASS",
      "details": [
        "TEST - SOTA 2026 - Ingestion V3.1.json: 7 HTTP nodes (all authenticated)",
        "TEST - SOTA 2026 - Enrichissement V3.1.json: 11 HTTP nodes (all authenticated)",
        "V10.1 orchestrator copy (5).json: 5 HTTP nodes (all authenticated)",
        "TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json: 8 HTTP nodes (all authenticated)",
        "TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json: 6 HTTP nodes (all authenticated)",
        "TEST - SOTA 2026 - Feedback V3.1.json: 4 HTTP nodes (all authenticated)",
        "TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json: 4 HTTP nodes (all authenticated)"
      ],
      "errors": []
    },
    {
      "name": "T20: Return Statement Format",
      "status": "WARN",
      "details": [
        "Init Lock & Trace: 1 returns, has valid n8n output",
        "Lock Result Handler: 2 returns, has valid n8n output",
        "MIME Type Detector: 1 returns, has valid n8n output",
        "PII Fortress: 2 returns, has valid n8n output",
        "Chunk Validator & Enricher V4: 3 returns, has valid n8n output",
        "Q&A Enricher: 1 returns, has valid n8n output",
        "Prepare Vectors V3.1 (Contextual): 2 returns, has valid n8n output",
        "Prepare Lock Release: 1 returns, has valid n8n output",
        "Prepare Contextual Prompts: 1 returns, has valid n8n output",
        "Aggregate Contextual Chunks: 1 returns, has valid n8n output",
        "BM25 Sparse Vector Generator: 6 returns, has valid n8n output",
        "Init OT Trace: 1 returns, has valid n8n output",
        "Prepare Lock: 1 returns, has valid n8n output",
        "Lock Result Handler: 2 returns, has valid n8n output",
        "Normalize & Merge: 2 returns, NONE produce valid n8n output"
      ],
      "errors": [
        "[TEST - SOTA 2026 - Enrichissement V3.1.json] 'Normalize & Merge': no return produces [{json:...}] format",
        "[TEST - SOTA 2026 - Enrichissement V3.1.json] 'Chunk Documents for Entity Extraction': no return produces [{json:...}] format",
        "[V10.1 orchestrator copy (5).json] 'ðŸ§  Memory Merger (Redis + Postgres)': no return produces [{json:...}] format"
      ]
    },
    {
      "name": "T21: $vars Dependencies",
      "status": "WARN",
      "details": [
        "TEST - SOTA 2026 - Ingestion V3.1.json: uses 9 $vars: ['CHUNKING_MODEL', 'CONTEXTUAL_RETRIEVAL_API_URL', 'CONTEXTUAL_RETRIEVAL_MODEL', 'EMBEDDING_API_URL', 'EMBEDDING_MODEL', 'LLM_API_URL', 'OTEL_COLLECTOR_URL', 'PINECONE_URL', 'QA_MODEL']",
        "TEST - SOTA 2026 - Enrichissement V3.1.json: uses 5 $vars: ['ENTITY_EXTRACTION_API_URL', 'ENTITY_EXTRACTION_MODEL', 'NEO4J_URL', 'OTEL_COLLECTOR_URL', 'PINECONE_URL']",
        "V10.1 orchestrator copy (5).json: uses 6 $vars: ['LLM_AGENT_MODEL', 'LLM_FAST_MODEL', 'LLM_INTENT_MODEL', 'LLM_PLANNER_MODEL', 'OPENROUTER_BASE_URL', 'SENTRY_DSN']",
        "TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json: uses 8 $vars: ['EMBEDDING_API_URL', 'EMBEDDING_MODEL', 'LLM_FAST_MODEL', 'LLM_HYDE_MODEL', 'OPENROUTER_BASE_URL', 'PINECONE_URL', 'RERANKER_API_URL', 'RERANKER_MODEL']",
        "TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json: uses 9 $vars: ['EMBEDDING_API_URL', 'EMBEDDING_DIMENSION', 'LLM_HYDE_MODEL', 'NEO4J_URL', 'OPENROUTER_BASE_URL', 'OTEL_COLLECTOR_URL', 'PINECONE_URL', 'RERANKER_API_URL', 'RERANKER_MODEL']",
        "TEST - SOTA 2026 - Feedback V3.1.json: uses 4 $vars: ['GENERATION_API_URL', 'GENERATION_MODEL', 'N8N_BASE_URL', 'SLACK_WEBHOOK_URL']",
        "TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json: uses 4 $vars: ['LLM_FAST_MODEL', 'LLM_SQL_MODEL', 'OPENROUTER_BASE_URL', 'OTEL_COLLECTOR_URL']",
        "\nTotal unique $vars: 27",
        "  $CHUNKING_MODEL: 1 usages",
        "  $CONTEXTUAL_RETRIEVAL_API_URL: 3 usages",
        "  $CONTEXTUAL_RETRIEVAL_MODEL: 2 usages",
        "  $EMBEDDING_API_URL: 4 usages",
        "  $EMBEDDING_DIMENSION: 4 usages",
        "  $EMBEDDING_MODEL: 3 usages",
        "  $ENTITY_EXTRACTION_API_URL: 3 usages",
        "  $ENTITY_EXTRACTION_MODEL: 3 usages",
        "  $GENERATION_API_URL: 1 usages",
        "  $GENERATION_MODEL: 1 usages",
        "  $LLM_AGENT_MODEL: 1 usages",
        "  $LLM_API_URL: 2 usages"
      ],
      "errors": [
        "$vars.EMBEDDING_DIMENSION used in 4 places without fallback default",
        "$vars.N8N_BASE_URL used in 1 places without fallback default",
        "$vars.NEO4J_URL used in 5 places without fallback default",
        "$vars.PINECONE_URL used in 5 places without fallback default",
        "$vars.SLACK_WEBHOOK_URL used in 1 places without fallback default"
      ]
    },
    {
      "name": "T22: Webhook Path & Auth",
      "status": "PASS",
      "details": [
        "[TEST - SOTA 2026 - Ingestion V3.1.json] 'S3 Event Webhook': path=/rag-v6-ingestion, method=POST, auth=NONE (open)",
        "[V10.1 orchestrator copy (5).json] 'Webhook V8': path=/92217bb8-ffc8-459a-8331-3f553812c3d0, method=POST, auth=NONE (open)",
        "[TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json] 'Webhook': path=/rag-multi-index-v3, method=POST, auth=NONE (open)",
        "[TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json] 'Webhook': path=/ff622742-6d71-4e91-af71-b5c666088717, method=POST, auth=NONE (open)",
        "[TEST - SOTA 2026 - Feedback V3.1.json] 'Webhook Feedback': path=/rag-v5-feedback, method=POST, auth=NONE (open)",
        "[TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json] 'Webhook': path=/3e0f8010-39e0-4bca-9d19-35e5094391a9, method=POST, auth=NONE (open)"
      ],
      "errors": []
    },
    {
      "name": "T23: Regex ReDoS Safety",
      "status": "PASS",
      "details": [
        "Init Lock & Trace: regex patterns safe",
        "MIME Type Detector: regex patterns safe",
        "PII Fortress: regex patterns safe",
        "Chunk Validator & Enricher V4: regex patterns safe",
        "Q&A Enricher: regex patterns safe",
        "Prepare Vectors V3.1 (Contextual): regex patterns safe",
        "Prepare Contextual Prompts: regex patterns safe",
        "Aggregate Contextual Chunks: regex patterns safe",
        "BM25 Sparse Vector Generator: regex patterns safe",
        "Init OT Trace: regex patterns safe"
      ],
      "errors": []
    },
    {
      "name": "T24: Credential ID Consistency",
      "status": "WARN",
      "details": [
        "'Cohere API Key': {'k3FkjoY6DSxGPX2I', '7UPUQvFQVksMajPL'}",
        "'DeepSeek API Key': {'CREDENTIAL_ID_DEEPSEEK'}",
        "'External API Key': {'EXTERNAL_API_CREDENTIAL_ID'}",
        "'Internal API Key': {'INTERNAL_API_CREDENTIAL_ID'}",
        "'MongoDB API Key': {'MONGODB_API_CREDENTIAL_ID'}",
        "'Neo4j Aura': {'n4K6ZIj6aa0dsiGN'}",
        "'OpenAI API Key': {'LLM_API_CREDENTIAL_ID', '4LTtAAr9APWELzN7'}",
        "'OpenRouter account': {'aTHBqnntMBApo0Dy'}",
        "'Pinecone API Key': {'3DEiHDwB09D65919', 'pHqLK3RCesLssL6j'}",
        "'Postgres Production': {'FZUFrHg9RgDR3MAB'}",
        "'Postgres account': {'0bf5AHN9S8qJTBr8'}",
        "'Redis Upstash': {'O2KEPiv7VzgDG5ZX'}",
        "'Supabase PostgreSQL': {'zEr7jPswZNv6lWKu'}",
        "'Unnamed credential': {'1p9NvJFmJsjSYq1J'}",
        "'Unstructured API': {'nTJdf91Z5vhsI7cm'}"
      ],
      "errors": [
        "Credential 'Cohere API Key' has multiple IDs: {'k3FkjoY6DSxGPX2I', '7UPUQvFQVksMajPL'}",
        "Credential 'OpenAI API Key' has multiple IDs: {'LLM_API_CREDENTIAL_ID', '4LTtAAr9APWELzN7'}",
        "Credential 'Pinecone API Key' has multiple IDs: {'3DEiHDwB09D65919', 'pHqLK3RCesLssL6j'}"
      ]
    },
    {
      "name": "T25: API Round-Trip Integrity",
      "status": "PASS",
      "details": [
        "TEST - SOTA 2026 - Ingestion V3.1.json: local=28 nodes/24 conns, remote=28/24 - MATCH",
        "TEST - SOTA 2026 - Enrichissement V3.1.json: local=29 nodes/25 conns, remote=29/25 - MATCH",
        "V10.1 orchestrator copy (5).json: local=65 nodes/57 conns, remote=65/57 - MATCH",
        "TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json: local=21 nodes/19 conns, remote=21/19 - MATCH",
        "TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json: local=22 nodes/20 conns, remote=22/20 - MATCH",
        "TEST - SOTA 2026 - Feedback V3.1.json: local=13 nodes/8 conns, remote=13/8 - MATCH",
        "TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json: local=23 nodes/20 conns, remote=23/20 - MATCH"
      ],
      "errors": []
    },
    {
      "name": "T26: Throw Statement Safety",
      "status": "PASS",
      "details": [
        "Init Lock & Trace: 1 throws without try/catch (no onError set - will crash workflow)",
        "Input Merger V8: 2 throws without try/catch (no onError set - will crash workflow)",
        "ðŸ“Š Agent Decision Parser: 1 throws all inside try/catch",
        "RRF Merge & Rank V3.4: 1 throws all inside try/catch",
        "OTEL Init: 1 throws without try/catch (no onError set - will crash workflow)",
        "Validate Embedding: 1 throws without try/catch (no onError set - will crash workflow)",
        "Init & ACL: 1 throws without try/catch (no onError set - will crash workflow)",
        "SQL Validator (Shield #1): 7 throws all inside try/catch"
      ],
      "errors": []
    }
  ]
}