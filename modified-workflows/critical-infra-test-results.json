{
  "generated_at": "2026-02-06T09:38:28.699747",
  "generated_by": "critical-infrastructure-test-environment-sota-2026",
  "target": "https://amoret.app.n8n.cloud",
  "total_execution_time_s": 342.9,
  "summary": {
    "total": 28,
    "passed": 15,
    "warned": 10,
    "failed": 3
  },
  "by_category": {
    "Security": {
      "passed": 3,
      "warned": 2,
      "failed": 1
    },
    "Resilience": {
      "passed": 3,
      "warned": 1,
      "failed": 1
    },
    "Concurrency": {
      "passed": 2,
      "warned": 2,
      "failed": 0
    },
    "Data Integrity": {
      "passed": 1,
      "warned": 2,
      "failed": 0
    },
    "Integration Health": {
      "passed": 2,
      "warned": 1,
      "failed": 1
    },
    "Observability": {
      "passed": 2,
      "warned": 1,
      "failed": 0
    },
    "Pipeline Correctness": {
      "passed": 2,
      "warned": 1,
      "failed": 0
    }
  },
  "tests": [
    {
      "test_id": "CRIT-S1",
      "test_name": "SQL Injection via WF4 Webhook",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Payloads tested: 6",
        "Explicitly blocked: 0",
        "SQL error leaked: 0"
      ]
    },
    {
      "test_id": "CRIT-S2",
      "test_name": "Cypher Injection via WF2 Webhook",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Payloads tested: 4",
        "Neo4j internals leaked: 0"
      ]
    },
    {
      "test_id": "CRIT-S3",
      "test_name": "XSS & Prompt Injection",
      "status": "FAIL",
      "latency_ms": 0,
      "details": [
        "Payloads tested: 6",
        "XSS reflected: 2",
        "Prompt injection success: 0"
      ]
    },
    {
      "test_id": "CRIT-S4",
      "test_name": "Credential Exposure in Error Responses",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Endpoints probed: 6",
        "Credential leaks: 0"
      ]
    },
    {
      "test_id": "CRIT-S5",
      "test_name": "ACL Bypass via disable_acl=true",
      "status": "PASS",
      "latency_ms": 6307.2,
      "details": [
        "disable_acl=true was correctly ignored or blocked",
        "Sources returned: 5"
      ]
    },
    {
      "test_id": "CRIT-S6",
      "test_name": "NoSQL Metadata Injection (Pinecone)",
      "status": "WARN",
      "latency_ms": 6435.7,
      "details": [
        "Sources returned: 5",
        "Response received - check if results are cross-tenant"
      ]
    },
    {
      "test_id": "CRIT-R1",
      "test_name": "Non-existent Tenant Graceful Handling",
      "status": "PASS",
      "latency_ms": 6577.4,
      "details": [
        "Status: OK (HTTP 200)",
        "Response type: dict",
        "Has response: True"
      ]
    },
    {
      "test_id": "CRIT-R2",
      "test_name": "Empty/Minimal Query Handling",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Crashes: 0/5, Graceful: 5/5",
        "  wf5: Graceful (HTTP 200)",
        "  wf5_null: Graceful (HTTP 200)",
        "  wf2: Graceful (HTTP 200)",
        "  wf4: Graceful (HTTP 200)",
        "  orch: Graceful (HTTP 200)"
      ]
    },
    {
      "test_id": "CRIT-R3",
      "test_name": "Malformed JSON Field Types",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Crashes: 1/6",
        "  array_query: OK (HTTP 200)",
        "  int_query: OK (HTTP 200)",
        "  nested_tenant: OK (HTTP 200)",
        "  huge_topK: OK (HTTP 200)",
        "  negative_topK: CRASH (HTTP 500)",
        "  extra_fields: OK (HTTP 200)"
      ]
    },
    {
      "test_id": "CRIT-R4",
      "test_name": "Large Payload Handling (10KB/100KB)",
      "status": "FAIL",
      "latency_ms": 0,
      "details": [
        "  10KB: Accepted (HTTP 200, 9174ms)",
        "  100KB: CRASH (HTTP 500, 6034ms)"
      ]
    },
    {
      "test_id": "CRIT-R5",
      "test_name": "Timeout Behavior (3s client timeout)",
      "status": "PASS",
      "latency_ms": 3038.7,
      "details": [
        "Timeout triggered correctly at 3039ms"
      ]
    },
    {
      "test_id": "CRIT-C1",
      "test_name": "10 Concurrent RAG Queries",
      "status": "PASS",
      "latency_ms": 7958.429574966431,
      "details": [
        "Concurrent requests: 10",
        "Success: 10/10",
        "Errors: 0/10",
        "Wall time: 7958ms",
        "Latency min: 6103ms",
        "Latency P50: 7098ms",
        "Latency max: 7941ms",
        "Avg: 7135ms"
      ]
    },
    {
      "test_id": "CRIT-C2",
      "test_name": "Concurrent Mixed Workflow Requests",
      "status": "PASS",
      "latency_ms": 24636.399269104004,
      "details": [
        "Mixed workflows: 5",
        "Success: 5/5",
        "Wall time: 24636ms",
        "  WF2: OK (276ms)",
        "  Feedback: OK (276ms)",
        "  WF4: OK (292ms)",
        "  WF5: OK (6598ms)",
        "  Orchestrator: OK (24630ms)"
      ]
    },
    {
      "test_id": "CRIT-C3",
      "test_name": "Rapid-Fire Rate Limit Detection",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Requests sent: 20 (no delay)",
        "Success: 19/20",
        "Rate limited (429): 0",
        "Other errors: 1",
        "Avg latency: 181ms"
      ]
    },
    {
      "test_id": "CRIT-C4",
      "test_name": "Concurrent Ingestion Deduplication",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Concurrent ingestions: 3 (same document)",
        "Accepted: 0/3",
        "Skipped (DUPLICATE): 0/3",
        "No dedup detected (may need Redis lock verification)"
      ]
    },
    {
      "test_id": "CRIT-D1",
      "test_name": "Feedback Storage Round-Trip",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Feedback submitted: OK (177ms)",
        "Data not found in WF4 query (may need time to propagate)"
      ]
    },
    {
      "test_id": "CRIT-D2",
      "test_name": "Trace ID Propagation",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Trace propagation: 1/2 workflows",
        "  WF5: trace_id PROPAGATED correctly",
        "  WF2: trace_id NOT in response"
      ]
    },
    {
      "test_id": "CRIT-D3",
      "test_name": "Idempotent Query Consistency",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Query 1: 5546ms, 3 sources",
        "Query 2: 5325ms, 3 sources",
        "Source overlap: 3/3 (100%)",
        "Latency delta: 222ms",
        "Results are consistent (>60% source overlap)"
      ]
    },
    {
      "test_id": "CRIT-H1",
      "test_name": "n8n API Health Check",
      "status": "FAIL",
      "latency_ms": 0,
      "details": [
        "  GET /workflows: OK (194ms)",
        "  GET /executions: OK (225ms)",
        "  GET /credentials: FAIL (405: HTTP Error 405: Method Not Allowed)"
      ]
    },
    {
      "test_id": "CRIT-H2",
      "test_name": "Workflow Activation Status",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Active: 6/6",
        "  wf5_standard_rag: ACTIVE",
        "  wf2_graph_rag: ACTIVE",
        "  wf4_quantitative: ACTIVE",
        "  orchestrator: ACTIVE",
        "  feedback: ACTIVE",
        "  ingestion: ACTIVE"
      ]
    },
    {
      "test_id": "CRIT-H3",
      "test_name": "Webhook Endpoint Reachability",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Reachable: 6/6",
        "  wf5: Reachable (HTTP 200, 8398ms)",
        "  wf2: Reachable (HTTP 200, 192ms)",
        "  wf4: Reachable (HTTP 200, 192ms)",
        "  orchestrator: Reachable (HTTP 200, 567ms)",
        "  feedback: Reachable (HTTP 200, 172ms)",
        "  ingestion: Reachable (HTTP 500, 176ms)"
      ]
    },
    {
      "test_id": "CRIT-H4",
      "test_name": "Execution History & Error Rate",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Last 20 executions:",
        "  Success: 13",
        "  Error: 7",
        "  Running: 0",
        "  Waiting: 0",
        "  Error rate: 35.0%",
        "  WARNING: Error rate above 20%",
        "  Recent error: ?"
      ]
    },
    {
      "test_id": "CRIT-O1",
      "test_name": "Trace ID in All Responses",
      "status": "WARN",
      "latency_ms": 0,
      "details": [
        "Trace coverage: 1/3",
        "  WF5: trace_id present (tr-obs-wf5-1770370610)",
        "  WF2: NO trace_id in response",
        "  Orchestrator: NO trace_id in response"
      ]
    },
    {
      "test_id": "CRIT-O2",
      "test_name": "Error Response Structure (No Stack Traces)",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "Structured: 3, Raw traces: 0",
        "  Empty query WF5: Structured JSON response",
        "  Short query WF2: Structured JSON response",
        "  Missing objectKey: Structured JSON response"
      ]
    },
    {
      "test_id": "CRIT-O3",
      "test_name": "Response Metadata Completeness",
      "status": "PASS",
      "latency_ms": 6067.6,
      "details": [
        "Metadata fields: 6/6",
        "  + trace_id: tr-meta-1770370667",
        "  + confidence: 1",
        "  + engine: STANDARD",
        "  + sources: [{'source': 'hotpotqa', 'score': 1, 'excerpt': 'Machine lear",
        "  + metadata: {'sources_available': 2, 'total_unique_docs': 23, 'warnings'",
        "  + version: 3.4.3"
      ]
    },
    {
      "test_id": "CRIT-P1",
      "test_name": "Hallucination Detection (Out-of-Scope Query)",
      "status": "WARN",
      "latency_ms": 5318.9,
      "details": [
        "Confidence: 1",
        "Response length: 166 chars",
        "Response generated without clear hedging",
        "Preview: The provided context documents do not contain the specific stock price for NVIDIA on March 15, 2019, at 2:37 PM EST [1], [2], [3], [4], [5], [6], [7], [8], [9], [10]...."
      ]
    },
    {
      "test_id": "CRIT-P2",
      "test_name": "Citation Accuracy (Sources vs References)",
      "status": "PASS",
      "latency_ms": 6820.9,
      "details": [
        "Response length: 1600 chars",
        "Sources count: 5",
        "Inline citations: 7 (1 unique)",
        "All citations reference valid sources (max=[1], sources=5)"
      ]
    },
    {
      "test_id": "CRIT-P3",
      "test_name": "Multilingual Query Handling (FR/EN)",
      "status": "PASS",
      "latency_ms": 0,
      "details": [
        "  FR: OK (7653ms, 1817 chars, 5 sources)",
        "  EN: OK (6798ms, 2132 chars, 5 sources)",
        "  Source overlap FR/EN: 1/5",
        "Both languages handled successfully"
      ]
    }
  ],
  "critical_failures": [
    "CRIT-S3: XSS & Prompt Injection",
    "CRIT-R4: Large Payload Handling (10KB/100KB)",
    "CRIT-H1: n8n API Health Check"
  ]
}