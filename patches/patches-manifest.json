{
  "manifest_version": "1.0",
  "generated_at": "2026-02-05",
  "generated_by": "patch-writer-agent",
  "project": "Multi-RAG Orchestrator SOTA 2026",
  "description": "Manifest of all RFC 6902 JSON patches for n8n workflow improvements. Ordered by deployment priority. The patch-applier agent should process entries in the order listed.",
  "total_patches": 79,
  "total_workflows": 7,
  "execution_instructions": {
    "tool": "python3 with jsonpatch>=1.33",
    "sequence": "Apply patches in the order listed below. For each workflow, create a backup first.",
    "backup_dir": "../backups/",
    "output_dir": "../modified-workflows/",
    "validation": "After applying, validate JSON structure and n8n workflow schema (nodes array, connections object, settings)."
  },
  "patches": [
    {
      "order": 1,
      "priority": "CRITICAL",
      "workflow_file": "TEST - SOTA 2026 - Ingestion V3.1.json",
      "patch_file": "patches/ingestion-v3.1.patch.json",
      "patch_count": 6,
      "key_fixes": [
        "Fix triple-nested template bug in embedding model config",
        "Add retry on LLM HTTP calls",
        "Chunker fallback and chunk validation improvements",
        "Embedding URL made configurable"
      ],
      "blocking_bugs_fixed": 1,
      "new_nodes_required": 5,
      "estimated_impact": "+35% retrieval precision, +30% recall (BM25)"
    },
    {
      "order": 2,
      "priority": "CRITICAL",
      "workflow_file": "TEST - SOTA 2026 - Enrichissement V3.1.json",
      "patch_file": "patches/enrichissement-v3.1.patch.json",
      "patch_count": 9,
      "key_fixes": [
        "Fix Relationship Mapper triple output routing (Postgres/Neo4j stores were dead)",
        "Increase entity extraction from 6000 to 30000 chars",
        "Add Redis lock TTL (7200s)",
        "Fix Community Detection to use Neo4j GDS Cypher",
        "Replace MD5 with SHA-256 for dedup"
      ],
      "blocking_bugs_fixed": 3,
      "new_nodes_required": 5,
      "estimated_impact": "+70% entity coverage, fix dead stores"
    },
    {
      "order": 3,
      "priority": "CRITICAL",
      "workflow_file": "V10.1 orchestrator copy (5).json",
      "patch_file": "patches/orchestrator-v10.1.patch.json",
      "patch_count": 13,
      "key_fixes": [
        "Extend cache key from 16 to 32 chars + tenant namespace",
        "Update LLM 3 model to claude-sonnet-4.5",
        "Rename generic IF nodes for maintainability",
        "Standardize response contract documentation"
      ],
      "blocking_bugs_fixed": 1,
      "new_nodes_required": 0,
      "estimated_impact": "Fix cross-tenant cache leak, +modernize LLM"
    },
    {
      "order": 4,
      "priority": "HIGH",
      "workflow_file": "TEST - SOTA 2026 - WF5 Standard RAG V3.4 - CORRECTED.json",
      "patch_file": "patches/wf5-standard-rag-v3.4.patch.json",
      "patch_count": 7,
      "key_fixes": [
        "Add tenant_id filter to BM25 Postgres query (cross-tenant leak fix)",
        "Fix ACL logic inversion (ACL disabled by default bug)",
        "Upgrade Cohere Reranker to v3.5",
        "Fix confidence default from 0.5 to 0 when no sources"
      ],
      "blocking_bugs_fixed": 2,
      "new_nodes_required": 1,
      "estimated_impact": "Fix security: tenant isolation + ACL, +31% reranking"
    },
    {
      "order": 5,
      "priority": "HIGH",
      "workflow_file": "TEST - SOTA 2026 - WF2 Graph RAG V3.3 - CORRECTED (1).json",
      "patch_file": "patches/wf2-graph-rag-v3.3.patch.json",
      "patch_count": 12,
      "key_fixes": [
        "Re-enable OTEL Export Trace (was disabled)",
        "Upgrade Cohere Reranker from v3.0 to v3.5",
        "Make embedding dimension configurable (was hardcoded 1536)",
        "Fix entity name regex to support French accents",
        "Add retry on Cohere Reranker"
      ],
      "blocking_bugs_fixed": 1,
      "new_nodes_required": 1,
      "estimated_impact": "+31% reasoning accuracy, restore observability"
    },
    {
      "order": 6,
      "priority": "HIGH",
      "workflow_file": "TEST - SOTA 2026 - Feedback V3.1.json",
      "patch_file": "patches/feedback-v3.1.patch.json",
      "patch_count": 13,
      "key_fixes": [
        "Connect disconnected Implicit Feedback Analyzer",
        "Fix LLM Feedback Analyzer multi-output routing",
        "Swap Loop Breaker Check / Auto-Repair Limiter order",
        "Add Answer Completeness metric",
        "Add Auto-Action on Drift signals"
      ],
      "blocking_bugs_fixed": 3,
      "new_nodes_required": 2,
      "estimated_impact": "Fix dead RLHF pipeline, enable auto-repair"
    },
    {
      "order": 7,
      "priority": "MEDIUM",
      "workflow_file": "TEST - SOTA 2026 - WF4 Quantitative V2.0 (1).json",
      "patch_file": "patches/wf4-quantitative-v2.0.patch.json",
      "patch_count": 19,
      "key_fixes": [
        "Strengthen tenant_id enforcement in SQL Validator",
        "Add few-shot SQL examples to improve accuracy",
        "Reduce LIMIT max from 1000 to 100",
        "Add Schema Introspection error handling",
        "Enrich OTEL with SQL metrics"
      ],
      "blocking_bugs_fixed": 1,
      "new_nodes_required": 1,
      "estimated_impact": "+5-8% SQL accuracy, fix tenant isolation"
    }
  ],
  "summary_stats": {
    "total_blocking_bugs_fixed": 12,
    "total_new_nodes_required": 15,
    "workflows_by_priority": {
      "CRITICAL": 3,
      "HIGH": 3,
      "MEDIUM": 1
    },
    "patch_categories": {
      "security_fixes": 8,
      "architecture_improvements": 25,
      "resilience_fixes": 18,
      "performance_improvements": 15,
      "maintainability_fixes": 13
    }
  }
}
